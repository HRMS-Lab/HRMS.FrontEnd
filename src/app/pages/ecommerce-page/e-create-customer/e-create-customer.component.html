<!-- Breadcrumb -->
<div class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-between">
    <h5 class="mb-0">Create Title</h5>
    <ol class="breadcrumb list-unstyled mt-0 mb-0 pl-0">
        <li class="breadcrumb-item position-relative">
            <a routerLink="/" class="d-inline-block position-relative">
                <i class="ri-home-8-line"></i>
                Dashboard
            </a>
        </li>
        <li class="breadcrumb-item position-relative">E-Commerce</li>
        <li class="breadcrumb-item position-relative">Create Title</li>
    </ol>
</div>

<!-- Create Title -->
<mat-card class="daxa-card create-product-card mb-25 border-radius bg-white border-none d-block"
    [class.rtl-enabled]="themeService.isRTLEnabled()">
    <mat-card-content>
        <form [formGroup]="titleForm" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Title Name</mat-label>
                        <input matInput formControlName="titleName" />
                        <mat-error *ngIf="titleForm.get('titleName')?.hasError('required')">Title Name is required</mat-error>
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Title Description</mat-label>
                        <input matInput formControlName="titleDescription" />
                        <mat-error *ngIf="titleForm.get('titleDescription')?.hasError('required')">Title Description is required</mat-error>
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-form-field>
                      <mat-label>Organization</mat-label>
                      <mat-select formControlName="orgId">
                        <mat-option *ngFor="let org of organizations" [value]="org.orgId" (onSelectionChange)="loadOrganiztionCharts(org.orgId)">
                          {{ org.orgName }}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="titleForm.get('orgId')?.hasError('required')">
                        Organization is required
                      </mat-error>
                    </mat-form-field>
                  </div>
              
                  <div class="col-sm-6 my-3">
                    <mat-form-field *ngIf="titleForm.get('orgId')?.value">
                      <mat-label>Org Chart</mat-label>
                      <mat-select formControlName="orgChartId">
                        <mat-option *ngFor="let chart of orgChart" [value]="chart.orgChartId">
                          {{ chart.orgChartName }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Reference 1</mat-label>
                        <input matInput formControlName="refrence1" />
                        <mat-error *ngIf="titleForm.get('refrence1')?.hasError('required')">This field is required</mat-error>
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Reference 2</mat-label>
                        <input matInput formControlName="refrence2" />
                        <mat-error *ngIf="titleForm.get('refrence2')?.hasError('required')">This field is required</mat-error>
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Reference 3</mat-label>
                        <input matInput formControlName="refrence3" />
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Reference 4</mat-label>
                        <input matInput formControlName="refrence4" />
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-form-field>
                        <mat-label>Reference 5</mat-label>
                        <input matInput formControlName="refrence5" />
                    </mat-form-field>
                </div>

                <div class="col-sm-6 my-3">
                    <mat-checkbox formControlName="active">Active</mat-checkbox>
                </div>
            </div>

            <div class="btn-box">
                <button mat-button [disabled]="isLoading || titleForm.invalid" type="submit">
                    <span *ngIf="isLoading">Loading...</span>
                    <span *ngIf="!isLoading && !editMode">Create Title</span>
                    <span *ngIf="!isLoading && editMode">Update Title</span>
                </button>
                <button mat-button routerLink="/ecommerce-page/customers">
                    Cancel
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>
